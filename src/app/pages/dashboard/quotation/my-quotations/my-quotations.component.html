<div class="d-flex justify-content-between align-items-center mb-3">
  <h2>My quotations</h2>
  <a mat-raised-button color="info" routerLink="/dashboard/quotations/create"
    >New quotation</a
  >
</div>


<mat-spinner *ngIf="loading" class="mx-auto my-4 d-block"></mat-spinner>

<div *ngIf="!loading">
  <table
    mat-table
    [dataSource]="dataSource"
    class="mat-elevation-z8"
    style="width: 100%"
  >
    <!-- ID or Key Column (for unique) -->
    <ng-container matColumnDef="id">
      <th mat-header-cell *matHeaderCellDef>Quotation Id / Key</th>
      <td mat-cell *matCellDef="let quotation">
        {{ quotation.id }} | {{ quotation.quote_key }}
      </td>
    </ng-container>

    <!-- Total Column -->
    <ng-container matColumnDef="total">
      <th mat-header-cell *matHeaderCellDef>Total</th>
      <td mat-cell *matCellDef="let quotation">{{ quotation.total || '--'}}</td>
    </ng-container>

    <!-- Currency Column -->
    <ng-container matColumnDef="currency">
      <th mat-header-cell *matHeaderCellDef>Currency</th>
      <td mat-cell *matCellDef="let quotation">{{ quotation.currency || '--'}}</td>
    </ng-container>

    <!-- formatted start_date Column-->
    <ng-container matColumnDef="formatted_start_date">
      <th mat-header-cell *matHeaderCellDef>Start Date</th>
      <td mat-cell *matCellDef="let quotation">{{ quotation.formatted_start_date || '--'}}</td>
    </ng-container>


    <!-- formatted_created_at Column -->
    <ng-container matColumnDef="formatted_created_at">
      <th mat-header-cell *matHeaderCellDef>Created</th>
      <td mat-cell *matCellDef="let quotation">{{ quotation.formatted_created_at || '--'}}</td>
    </ng-container>


    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
  </table>

  <!-- Pagination -->
  <mat-paginator
    [pageSizeOptions]="[10]"
    [length]="totalItems"
    [pageSize]="pageSize"
    [pageIndex]="pageIndex"
    [pageSizeOptions]="[5, 10, 20]"
    showFirstLastButtons
    (page)="onPageChange($event)"
  >
  </mat-paginator>
</div>
